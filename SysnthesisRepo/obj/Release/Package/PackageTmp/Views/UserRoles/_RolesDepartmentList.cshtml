@model List<EntityModels.Models.RightsStore>
@using EntityModels.Models;
<style>
    #table1 {
        border: none;
    }

    .row1 {
        padding-top: 5px;
        border: 2px;
    }

    .col-md-1 {
        width: 10%;
    }

    .LabelRoles {
        padding-bottom: 10px;
    }

    hr {
        margin-top: 10px;
        margin-bottom: 10px;
    }

    .clsLeveldrp {
        height: 30px !important;
        padding: 2px 12px !important;
    }

    th {
        padding: 2px 20px !important;
    }

    p {
        font-size: small;
        color: #e53939;
    }

    .selected {
        background-color: lightblue !important;
    }
</style>



<table id="table1" class="table table-striped table-bordered bulk_action dataTable no-footer" style="width:100%;border:none">
    <thead class="text-nowrap bg-primary" style="background: #56524b">
        <tr>
            <th width="15px">
                <label>Store Name</label>
            </th>
            <th width="15px">
                <label>View Invoice </label>
            </th>
            <th>
                <label>Department </label>
            </th>
        </tr>
    </thead>
    <tbody>
        @for (var i = 0; i < Model.Count; i++)
        {
            foreach (var store in (ICollection<StoreMaster>)ViewBag.Stores)
            {
                <tr>
                    <td>
                        <label class="LabelRoles">@store.NickName</label>
                    </td>
                    <td class="text-align-center">
                        <input type="checkbox" value="@("View" + Model[i].ModuleName.Trim() + "_" + store.StoreId + "_" + Model[i].ModuleId)" name="SelectedRoles" id="SelectedRoles" @((ViewBag.userRoles.Contains("View" + Model[i].ModuleName.Trim() + store.StoreId)) ? "checked=\"checked\"" : "") class="Remember" style="margin: 1px;position: initial;left: 3%;width: 26px;height: 22px;display: inline;opacity: unset;"><span></span>
                    </td>
                    <td class="text-align-center">

                        @Html.ListBoxFor(modelItem => Model[i].DepartmentIds, new MultiSelectList(Model[i].DepartmentLists.Where(s => s.StoreId == store.StoreId).ToList(), "DepartmentId", "DepartmentName", Model[i].DepartmentIds), new { id = "Storename", @class = "myval" })
                    </td>

                </tr>
            }
        }
    </tbody>
</table>
