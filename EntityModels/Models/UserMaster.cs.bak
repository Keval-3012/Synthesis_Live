using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace EntityModels.Models
{
    [Table("UserMaster")]
    public class UserMaster
    {
        [Key]
        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]
        [Editable(false)]
        public int UserId { get; set; }

        [Required(ErrorMessage =" ")]
        public int UserTypeId { get; set; }
        [ForeignKey("UserTypeId")]
        public virtual UserTypeMaster UserTypeMasters { get; set; }

        [Required(AllowEmptyStrings = false, ErrorMessage = " ")]
        [RegularExpression(@"^([a-zA-Z ]{3,})*$", ErrorMessage = "Minimum 3 letters,No Number or special character")]
        public string FirstName { get; set; }

        //[Required(AllowEmptyStrings = false, ErrorMessage = "Enter LastName")]
        //[RegularExpression(@"^([a-zA-Z ]{3,})*$", ErrorMessage = "Minimum 3 letters,No Number or special character")]
        //public string LastName { get; set; }

        [Required(AllowEmptyStrings = false, ErrorMessage = " ")]
        [RegularExpression(@"^([A-Za-z0-9-@#&+\w\s]{3,})+$", ErrorMessage = "Minimum 3 letters, User Name can contain only this special characters like   @ # & _ - +   ")]
        public string UserName { get; set; }

        [Required(AllowEmptyStrings = false, ErrorMessage = " ")]
        [DataType(DataType.Password)]
        [RegularExpression(@"^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,25}$", ErrorMessage = "Required at least 8 characters,1 capital and 1 special letter,1 number")]
        public string Password { get; set; }

        [NotMapped]
        [Required(AllowEmptyStrings = false, ErrorMessage = " ")]
        [Compare("Password", ErrorMessage = "Password doesn't match.")]
        public string ConfirmPassword { get; set; }

        public int CreatedBy { get; set; }

        public int ModifiedBy { get; set; }

        public DateTime? CreatedOn { get; set; }

        public DateTime? ModifiedOn { get; set; }
        public Boolean IsActive { get; set; }
        public Boolean TrackHours { get; set; }

        public string EmailAddress { get; set; }


        public int? GroupId { get; set; }
        [ForeignKey("GroupId")]
        public virtual GroupMaster GroupMasters { get; set; }

        public bool IsFirstLogin { get; set; }

        [NotMapped]
        public string[] StoreName { get; set; }
        [NotMapped]
        public string UserType { get; set; }
        [NotMapped]
        public string Group { get; set; }
        [NotMapped]
        //[Required(AllowEmptyStrings = false, ErrorMessage = " ")]
        public string OldPassword { get; set; }

        public virtual ICollection<StoreChild> StoreChilds { get; set; }
        public virtual ICollection<SalesGeneralEntries> salesGeneralEntries { get; set; }
        public virtual ICollection<SalesGeneralEntriesHistory> salesGeneralEntriesHistory { get; set; }
        public virtual ICollection<UserWiseStickyNote> UserWiseStickyNotes { get; set; }
    }

    public class User_Resetpassword
    {
        public int Reg_userid { get; set; }
        [Required(ErrorMessage = " ")]

        [DataType(DataType.Password)]
        [RegularExpression(@"^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,15}$", ErrorMessage = "Password required at least 8 characters, 1 capital letter, 1 number, and one special character")]
        public string Password { get; set; }

        [Required(ErrorMessage = " ")]
        [Compare("Password", ErrorMessage = "Password and confirm password doesn't match.")]
        public string ConfirmPassword { get; set; }
    }

    public class UserList
    {
        public int UserId { get; set; }
        public string UserName { get; set; }
    }
}