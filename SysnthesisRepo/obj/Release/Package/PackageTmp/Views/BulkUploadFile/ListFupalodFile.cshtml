@model IEnumerable<EntityModels.Models.UploadPdf>
@using EntityModels.Models
@using System.Configuration;
@using Utility
@{

    Layout = "~/Views/Shared/AdminMAster.cshtml";
}
<link href="~/Contente/Admin/assets/css/style.css" rel="stylesheet" />
<link href="~/Contente/Admin/assets/css/style.css" rel="stylesheet" />
<link href="~/Contente/Admin/assets/css/style1.scss" rel="stylesheet" />

<style>
    .page-sidebar.sidebar-fixed {
        position: fixed;
    }

    thead {
        font-family: 'Muli', sans-serif;
        color: #787878;
    }

    .special_bg .page-header-main, .header-small.special_bg {
        background: #3f3f3f;
    }

    body {
        font-family: 'Muli', sans-serif !important;
        color: #787878;
    }

    .datagrid table tr td {
        font-family: 'Muli', sans-serif !important;
        color: #787878;
    }

    .datagrid .table thead th {
        background: #727272;
    }

    .special_bg .page-header-main h2, .header-small.special_bg h3 {
        color: #fff;
    }

    .divIDClass {
        z-index: 999999 !important;
    }

    .datagrid .table tr td img {
        height: 30px;
    }

    .showbox {
        display: none !important;
    }

    #loadbox {
        position: fixed;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 999;
        display: none;
    }
</style>
<div id="loadbox"></div>
<style>
</style>
<div id="grddata">

    <div class="addinvoice" style="padding-top:0px!important;">

        <input type="hidden" id="hdnpagevalue" value="0" />
        <div class="page-body headertopbox special_bg">
            <div class="page-header-main position-relative ">
                <h2>Bulk Upload File List</h2>
                <span class="searchinvoicebox ">
                    <a href="#" class="searchbtn" id="searchicon"></a>
                    @*@ViewBag.searchdashbord /////*@

                    <input id="search-box" type="text" class="form-control inputvendorname" placeholder="Search by Store Name" />
                    <a href="#" class="search_close" onclick="cleartextsearch();">x</a>

                </span>
                
            </div>


            @{if (Model.Count() > 0)
                {

                    <div class="datagrid">
                        <div class="table-responsive" id="test">

                            <table class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>FileName</th>
                                        <th>Status</th>
                                        <th>Created Date</th>
                                        <th>Updated Date</th>
                                        <th>Page Count</th>
                                        <th>Ready ForProcess</th>
                                        <th>Store Name</th>
                                    </tr>
                                </thead>
                                <tbody id="adta">
                                    @foreach (var item in Model)
                                    {

                                    <tr class="even" style="font-family: 'Muli', sans-serif;">
                                        <td>
                                            @item.FileName
                                        </td>
                                        <td>
                                            @if (item.IsProcess == 0)
                                            {
                                                <a href="javascript:void(0)" class="clsvendorname text-align-center" id="Pending">Pending</a>
                                            }
                                            else
                                            {
                                                <a href="javascript:void(0)" class="clsvendorname text-align-center" id="Pending">Done</a>
                                            }
                                        </td>
                                        <td>
                                            @item.CreatedDate
                                        </td>
                                        <td>
                                            @*@if (item.UpdatedDate == "01-01-0001")
                                            {

                                            }
                                            else
                                            {*@
                                                @item.UpdatedDate
                                            @*}*@

                                        </td>
                                        <td>
                                            @item.PageCount
                                        </td>
                                        <td>
                                            @item.ReadyForProcess
                                        </td>
                                        <td>
                                            @item.StoreName
                                        </td>
                                    </tr>
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                }
            }
        </div>
    </div>
</div>
<script type="text/javascript">
    function cleartextsearch() {
        $(".inputvendorname").val("");
        getRecord();
    }

    $("#searchicon").click(function () {
        getRecord();
    })

    function getRecord() {
        var inputvendorname = $(".inputvendorname").val();
         $.ajax({
             url: '@AdminSiteConfiguration.GetURL()BulkUploadFile/getUploadFile',
             type: "POST",
             data: {"Search": inputvendorname },
             success: function (response) {
                 
                 var selector = $('#adta').html("");
                 if (response.length > 0) {
                     $.each(response, function (j, data) {
                         var htm = "<tr><td>" + data.FileName + "</td>";
                         if (data.IsProcess == 0) {
                             htm += '<td> <a href="javascript:void(0)" class="clsvendorname text-align-center" id="Pending">Pending</a></td>';
                         }
                         else {
                             htm += '<td> <a href="javascript:void(0)" class="clsvendorname text-align-center" id="Pending">Done</a></td>';
                         }
                         htm += "<td>" + data.CreatedDate + "</td>";
                         if (data.UpdatedDate == "01-01-0001") {
                             htm += "<td></td>";
                         }
                         else {
                             htm += "<td>" + data.UpdatedDate + "</td>";
                         }
                         htm += "<td>" + data.PageCount + "</td>";
                         htm += "<td>" + data.ReadyForProcess + "</td>";
                         htm += "<td>" + data.StoreName + "</td></tr>";
                            
                         selector.append(htm);
                     })
                 }
                 else {
                     var htm = "<tr><td colspan='7' style='text-align: center;'> Data Not Avalible..! </td></tr>";
                     selector.append(htm);
                 }
            },
            error: function (Result) {
            }
        });
    }
</script>