@using Syncfusion.EJ2
@using Newtonsoft.Json
<link href="~/Content/ej2/bootstrap5.css" rel="stylesheet" />
<link href="~/Content/HRCss/Syncfusion.css" rel="stylesheet" />
<link href="~/Content/HRCss/HRDepartment.css" rel="stylesheet" />
@Html.EJS().Toast("toast_type").NewestOnTop(true).ShowCloseButton(true).Position(p => p.X("Right")).TimeOut(5000).Render()

<div class="loading-containers loading-inactives" style="display:none;">
    <div class="loaders"></div>
</div>
<div class="header-small special_bg" style="margin: 0px;position:sticky;top:78px;z-index:99">
    <div class="row">
        <div class="col-md-3">
            <h3>Departments List </h3>
        </div>
        <div class="col-md-3">
        </div>
        <div class="col-md-3">

        </div>
    </div>

</div>
<div id="grddata">
    <div class="page-body headertopbox addinvoice" style="padding-top:0px!important;">
        <div class="control-section">
            @Html.EJS().Grid("HRDepartment").AllowSorting().AllowFiltering().FilterSettings(filter => { filter.Type(Syncfusion.EJ2.Grids.FilterType.CheckBox); }).Created("created").SelectionSettings(sel => { sel.PersistSelection(true); }).EnableStickyHeader(true).AllowTextWrap().Columns(col =>
       {
           col.Field("DepartmentId").IsPrimaryKey(true).HeaderText("Department Id").Visible(false).Add();
           col.Field("DepartmentName").HeaderText("Department Name").Width("250").Add();
           col.Field("IsActive").HeaderText("Status").EditType("booleanedit").DefaultValue(true).Width("100").AllowFiltering(false).Template("#toggleSwitchTemplate").Add();
           col.Field("Status").HeaderText("Action").Visible(false).Add();
       }).DataBound("dataBound").ActionBegin("actionBegin").ActionComplete("actionComplete").AllowPaging().PageSettings(page => { page.PageCount(2).PageSize(500); }).EditSettings(edit => { edit.AllowAdding(true).AllowEditing(true).AllowDeleting(true).Mode(Syncfusion.EJ2.Grids.EditMode.Dialog); }).Toolbar(new List<string>() { "Add", "Edit", "Delete", "Update", "Cancel", "Search" }).Render()
        </div>
    </div>
</div>

<script type="text/x-template" id="toggleSwitchTemplate">
    <div class="toggle-switch">
        ${if(Status != "Inactive")}
        <input type="checkbox" id="${DepartmentId}^${DepartmentName}" checked class="toggle-input" onclick="javascript:toggle(this);" style="display:none" value="on" />
        ${else}
        <input type="checkbox" id="${DepartmentId}^${DepartmentName}" class="toggle-input" onclick="javascript:toggle(this);" style="display:none" value="off" />
        ${/if}
        <label for="${DepartmentId}^${DepartmentName}" class="toggle-label"></label>
    </div>
</script>
<script>
    var scrollVal = 0;
    document.title = '@ViewBag.Title';
</script>
<script src="~/Content/HRJs/HRDepartment.js"></script>
@Html.EJS().ScriptManager()