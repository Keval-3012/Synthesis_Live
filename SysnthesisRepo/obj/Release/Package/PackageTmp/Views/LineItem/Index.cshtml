@using Syncfusion.EJ2
@using Syncfusion.EJ2.Popups
@using Utility
@using Syncfusion.EJ2.DropDowns
@using SynthesisViewModal
@{ Layout = "~/Views/Shared/AdminMAster.cshtml"; }
<link href="~/Content/ej2/bootstrap5.css" rel="stylesheet" />
<link href="~/Content/lineitempopup.css" rel="stylesheet" />
<style>
    .header {
        color: black;
        font-size: 35px;
        margin: 0px;
    }

    .e-spinner-pane {
        height: 100vh !important;
        position: relative !important;
    }
</style>
<style>


    .itemDetailsSection {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        background: #e0e0e0;
        width: 100%;
        -webkit-box-orient: horizontal;
        -webkit-box-direction: normal;
        -ms-flex-direction: row;
        flex-direction: row;
        -webkit-box-pack: justify;
        -ms-flex-pack: justify;
        justify-content: space-between;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        height: 180px;
        padding: 2em;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        position: relative;
    }

        .itemDetailsSection .storeNameforPopup {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            position: absolute;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            width: auto;
            font-weight: bold;
            top: 0px;
            left: calc(50% - 60px);
            background: white;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
            padding: 8px 0px;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            -webkit-box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);
            box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);
            padding: 9px;
        }

        .itemDetailsSection .itemArea {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: start;
            -ms-flex-align: start;
            align-items: flex-start;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
        }

            .itemDetailsSection .itemArea .itemSectionTitle {
                font-size: 15px;
                font-weight: bold;
            }

            .itemDetailsSection .itemArea .itemSectionName {
                font-size: 25px;
            }

        .itemDetailsSection .storeVendorArea {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: end;
            -ms-flex-align: end;
            align-items: flex-end;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
        }

            .itemDetailsSection .storeVendorArea span.vendorTitle {
                font-size: 15px;
                font-weight: bold;
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
            }

            .itemDetailsSection .storeVendorArea span.vendorNameTitle {
                font-size: 25px;
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
            }

    .e-dlg-overlay {
        background-color: rgba(0,0,0,0.7);
        backdrop-filter: blur(5px);
    }

    div#lineItemPDFContainer {
        position: fixed;
        left: 60%;
    }

    #lineItemPDFContainer {
        left: 51% !important;
        width: 49%;
    }

    div#lineItemPDFContainer {
        left: 51% !important;
        width: 49%;
    }
</style>
<style>
    @@font-face {
        font-family: 'Toast_icons';
        src: url(data:application/x-font-ttf;charset=utf-8;base64,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) format('truetype');
        font-weight: normal;
        font-style: normal;
    }

    #toast_types button {
        margin: 5px;
        min-width: 160px;
        max-width: 160px;
    }


    .toast-icons {
        font-family: 'Toast_icons' !important;
        speak: none;
        font-size: 55px;
        font-style: normal;
        font-weight: normal;
        font-variant: normal;
        text-transform: none;
        line-height: 1;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    #toast_type .e-toast-icon.e-icons {
        height: auto;
        font-size: 30px;
    }

    .bootstrap5 #toast_type .e-toast-icon.e-icons,
    .bootstrap5-dark #toast_type .e-toast-icon.e-icons {
        height: 25px;
    }

    .toast-icons.e-success::before {
        content: "\e701";
    }

    .toast-icons.e-error::before {
        content: "\e700";
    }

    .toast-icons.e-info::before {
        content: "\e704";
    }

    .toast-icons.e-warning::before {
        content: "\e703";
    }

    .e-sticky#InlineEditing_toolbarItems {
        top: 78px !important;
    }

    .e-gridheader.e-lib.e-droppable.e-sticky {
        top: 117px !important;
    }

    .e-btn .e-btn-icon {
        font-size: 24px;
    }
    /*.e-link-remove:before {
        content: '\e73c';
    }
    .e-medium{
        font-size:16px;
    }*/
    .dot {
        height: 12px;
        width: 12px;
        background-color: #17e130;
        border-radius: 50%;
        display: inline-block;
        margin-right: 7px;
        margin-top: 6px;
    }

    .dotnull {
        height: 12px;
        width: 12px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        margin-right: 7px;
        margin-top: 6px;
    }
</style>
<style>

    .below-95 {
        border: 1px solid #F28705 !important;
        color: #F28705 !important;
    }

        .below-95 > a {
            color: #F28705;
        }

        .below-95 > span.abc {
            color: #F28705;
        }

    /*.below-85 {
        border: 1px solid black !important;
        color: black !important;
    }

        .below-85 > a {
            color: black;
        }

        .below-85 > span.abc {
            color: black;
        }*/


    .above-95 {
        border-bottom: 2px solid #09aadc !important;
    }


    /*.cm-toggle {
        -webkit-appearance: none;
        -webkit-tap-highlight-color: transparent;
        position: relative;
        border: 0;
        outline: 0;
        cursor: pointer;
        margin: 10px;
    }*/


    /* To create surface of toggle button */
    /*.cm-toggle:after {
            content: '';
            width: 40px;
            height: 18px;
            display: inline-block;
            background: rgba(196, 195, 195, 0.55);
            border-radius: 18px;
            clear: both;
        }*/


    /* Contents before checkbox to create toggle handle */
    /*.cm-toggle:before {
            content: '';
            width: 22px;
            height: 22px;
            display: block;
            position: absolute;
            left: 0;
            top: -3px;
            border-radius: 50%;
            background: rgb(255, 255, 255);
            box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
        }*/


    /* Shift the handle to left on check event */
    /*.cm-toggle:checked:before {
            left: 22px;
            box-shadow: -1px 1px 3px rgba(0, 0, 0, 0.6);
        }*/
    /* Background color when toggle button will be active */
    /*.cm-toggle:checked:after {
            background: #16a085;
        }
        .cm-toggle,
        .cm-toggle:before,
        .cm-toggle:after,
        .cm-toggle:checked:before,
        .cm-toggle:checked:after {
            transition: ease .3s;
            -webkit-transition: ease .3s;
            -moz-transition: ease .3s;
            -o-transition: ease .3s;
        }*/

    .wrapword {
        white-space: -moz-pre-wrap !important; /* Mozilla, since 1999 */
        white-space: -pre-wrap; /* Opera 4-6 */
        white-space: -o-pre-wrap; /* Opera 7 */
        white-space: pre-wrap; /* css-3 */
        word-wrap: break-word; /* Internet Explorer 5.5+ */
        word-break: break-all;
        white-space: normal;
    }

    #ajax_dialog {
        position: inherit !important;
        z-index: 99999999 !important;
    }

    .e-spinner-pane .e-spinner-inner {
        z-index: 99999999 !important;
    }

    #ajax_dialog2 {
        position: inherit !important;
    }
</style>
@Html.EJS().Toast("toast_type").NewestOnTop(true).ShowCloseButton(true).Position(p => p.X("Right")).TimeOut(5000).Render()


<input type="text" id="VendorID" class="form-control" style="display:none;">
<input type="text" id="InvoiceDateValue" class="form-control" style="display:none;">
<input type="text" id="VendorName" class="form-control" style="display:none;">
<input type="text" id="InvoiceProductId" class="form-control" style="display:none;">
<div class="row" style="padding: 25px 25px;">
    <div class="col-md-9">
        <div class="col-md-2" style="padding:0px;">
            <h1 class="header">Line Items</h1>
        </div>
        <div class="col-md-2" style="padding:0px;" hidden>
            @Html.EJS().CheckBox("checked").Label("Unmapped LineItems").Checked(false).Change("GetUnmappedvalue").Render()
        </div>

        <div class="col-md-4">
            @Html.EJS().DropDownList("VendorList").Placeholder("Select Vendors").FilterBarPlaceholder("Search").AllowFiltering(true).DataSource((IEnumerable<object>)ViewBag.VendorList).Value("All Vendors").Fields(new DropDownListFieldSettings { Text = "VendorName", Value = "VendorName" }).Change("GetGridValue").Render()
        </div>
        <div class="col-md-2" hidden>
            @Html.EJS().DatePicker("InvoiceDate").Format("MM-dd-yyyy").Change("GetValueUsingDate").Render()
        </div>
        <div class="col-md-2">
            <a href="javascript:refreshgrid();" class="btn btn-info" data-toggle="tooltip" data-placement="top">Refresh</a>
        </div>
    </div>
</div>
<div class="col-md-6">
    <div id="GridValue"></div>
</div>
<div class="col-md-5 lineItemPDFContainer" id="lineItemPDFContainer">
    <iframe frameborder="0" width="100%" height="1000" id="file"></iframe>
</div>
@{
    List<DialogDialogButton> buttonsdata = new List<DialogDialogButton>() { };
    buttonsdata.Add(new DialogDialogButton() { Click = "RemoveButtonClick", ButtonModel = new DefaultButtonModels() { content = "Remove Linked", isPrimary = true } });
    buttonsdata.Add(new DialogDialogButton() { Click = "LinkedCancelBouttonClick", ButtonModel = new DefaultButtonModels() { content = "Cancel" } });
}

@Html.EJS().Dialog("ajax_dialog").IsModal(true).Visible(false).Created("created").ShowCloseIcon(false).CloseOnEscape(false).ContentTemplate(@<div id="dialogTemp">
</div>).Target("body").Render()

@Html.EJS().Dialog("ajax_dialog1").IsModal(true).Visible(false).Created("created1").ShowCloseIcon(true).CloseOnEscape(true).ContentTemplate(@<div id="dialogTempData">
    @*.Header("Linked Product")*@
</div>).Buttons(buttonsdata).Width("1000px").Target("body").Render()

@Html.EJS().Dialog("ajax_dialog2").IsModal(true).Visible(false).Created("created2").ShowCloseIcon(true).CloseOnEscape(false).ContentTemplate(@<div id="dialogaddLibrary">
    @*.Header("Linked Product")*@
</div>).Target("body").Render()


<script id="template" type="text/x-template">
    ${if(ProductId != null)}
    <span class="dot"></span>
    <a href="/LineItem/ProductDetailLineItem/${ProductId}" target="_blank" class="wrapword">${Description}</a>
    ${else}
    <span class="dotnull"></span>
    <span class="abc wrapword">${Description}</span>
    ${/if}
</script>

<script type="text/javascript">
    $(document).ready(function () {

        var dialog = document.getElementById("ajax_dialog").ej2_instances[0]
        dialog.hide();

        var dialog = document.getElementById("ajax_dialog1").ej2_instances[0]
        dialog.hide();

        var dialog = document.getElementById("ajax_dialog2").ej2_instances[0]
        dialog.hide();

    });
</script>


<script>
    var mapped = '@ViewBag.mapped';
    var unlinked = '@ViewBag.unlinked';
    var AddVendorItem = '@ViewBag.AddVendorItem';
    var removemapping = '@ViewBag.removemapping';
    var SelectBoth = '@ViewBag.SelectBoth';
    var VendorItem = '@ViewBag.VendorItem';
    var MasterItem = '@ViewBag.MasterItem';
</script>
<script src="~/Form_JS/LineItem.js"></script>

@Html.EJS().ScriptManager()

<script type="text/javascript">
document.title = '@ViewBag.Title';
</script>
