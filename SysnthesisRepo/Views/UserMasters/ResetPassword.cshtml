@model EntityModels.Models.User_Resetpassword

    Layout = null;
    }
    <script type="text/javascript" src='~/Content/Scripts/jquery.validate.min.js'></script>
    <div class="modal bs-example-modal-sm resetpasswordpopup" tabindex="-1" role="dialog" id="mymodal" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: block; left:0;">
        <div class="modal-dialog modal-sm" style="width:400px;">
            <div class="modal-content" style="margin-top:150px;">
                <div class="modal-header printorder">
                    <div align="left"><h2> Reset Password </h2></div>
                    <div class="modalclosebtn">
                        <button id="ctl00_ContentPlaceHolder1_ibtnCancelStatus" onclick="closeExcelmodal()" type="button" class="btn btn-primary btn-xs" data-dismiss="modal"><span aria-hidden="true">X</span><span class="sr-only">Close</span> </button>

                    </div>
                </div>
                <div class="modal-body">
                    @using (Html.BeginForm("ResetPassword", "UserMasters", new { Reg_userid = Model.Reg_userid }, FormMethod.Post, new { id = "FormId" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary(true)
                        @*<div class="form-group">
                            <label>
                                Password <span class="highlight">*</span>
                            </label>
                            @Html.PasswordFor(model => model.Password, new { maxlength = 100, @class = "form-control" })
                            <span toggle="#Password" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                            <span class="highlight">
                                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger", @id = "EPassword" })
                            </span>
                        </div>*@
                        <div class="form-group">
                            <label>
                                Password <span class="highlight">*</span>
                            </label>
                            @Html.PasswordFor(model => model.Password, new { maxlength = 100, @class = "form-control" })
                            <span toggle="#Password" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                            @Html.ValidationMessageFor(model => model.Password, "", new { @class = "highlight1",@id = "EPassword" })
                        </div>
                        <div class="form-group">
                            <label>
                                Confirm Password <span class="highlight">*</span>
                            </label>
                            @Html.PasswordFor(model => model.ConfirmPassword, new { maxlength = 100, @class = "form-control" })
                            <span toggle="#ConfirmPassword" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                            @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new { @class = "highlight1"  })
                            <span id='message'></span>

                        </div>
                        @*<div class="form-group">
                <label>
                    Confirm Password <span class="highlight">*</span>
                </label>
                @Html.PasswordFor(model => model.ConfirmPassword, new { maxlength = 100, @class = "form-control" })
                <span toggle="#ConfirmPassword" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                <span class="highlight">     @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new { @class = "text-danger", @id = "EConfirmPassword" })</span>
            </div>*@
                        <div class="form-group">
                            <label id="error" class="text-danger"></label>
                        </div>
                        <div class="form-group">
                            <input id="btnSave" type="submit" value="Reset" class="buttonbox btnsubmit" />
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
    <style>
        .highlight1 {
            color: red !important;
        }

        .toggle-password {
            color: black !important;
            float: right;
            margin-left: -25px;
            margin-top: -33px;
            position: relative;
            margin-right: 5px;
            z-index: 9999 !important;
            font-size: large;
        }
    </style>
   
    <script>
        $("body").on('click', '.toggle-password', function () {
            $(this).toggleClass("fa-eye fa-eye-slash");
            var input = $($(this).attr("toggle"));
            if (input.attr("type") === "password") {
                input.attr("type", "text");
            } else {
                input.attr("type", "password");
            }
        });
        var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,15}$/;
        $('#Password, #ConfirmPassword').on('keyup', function () {
            if (!regex.test($('#Password').val())) {
                $("#EPassword").text('Password required at least 8 characters, 1 capital letter, 1 number, and one special character')

            } else {
                $("#EPassword").text('')
            }
        });
        $('#Password, #ConfirmPassword').on('keyup', function () {
            if ($('#Password').val() != "" && $('#ConfirmPassword').val() != "") {
                if ($('#Password').val() == $('#ConfirmPassword').val()) {
                    $('#message').html('Password Matched').css('color', 'green');
                    $('#btnSave').removeAttr("disabled");
                } else {
                    $('#message').html('Password Not Matched').css('color', 'red');
                    $('#btnSave').attr("disabled", true);
                }
            }
        });
        function validat() {

            var isvalid = true;
            
            if ($("#Password").val() == "") {
                $("#EPassword").text('@ViewBag.PassRequired');
                isvalid = false;
            }
            else {
                $("#EPassword").text("");
            }
            if ($("#ConfirmPassword").val() == "") {
                $("#EConfirmPassword").text('@ViewBag.ConPassRequired');
                isvalid = false;
            }
            else {
                $("#EConfirmPassword").text("");
            }
            if (($("#ConfirmPassword").val() != "") && ($("#Password").val() != "")) {
                if ($("#ConfirmPassword").val() != $("#Password").val()) {
                    $("#error").text('@ViewBag.PassNotMatch');
                    isvalid = false;
                }
            }
            else {
                $("#error").text("");
            }

            var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,15}$/;

                if (!regex.test($('#Password').val())) {
                    $("#EPassword").text('Password required at least 8 characters, 1 capital letter, 1 number, and one special character')
                    isvalid = false;

                } else {
                    $("#EPassword").text('')
                }
            return isvalid;
        }
        $(".btnsubmit").click(function () {
            if (validat() == false) {
                return false;
            }
        })
    </script>


